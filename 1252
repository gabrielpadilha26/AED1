#include <stdio.h>
#include <stdlib.h>

int M;

int compare(const void *a, const void *b) {
    int x = *(int*)a;
    int y = *(int*)b;
    
    int modX = x % M;
    int modY = y % M;
    
    if (modX != modY) {
        return modX - modY;
    }
    
    int isOddX = (x % 2 != 0);
    int isOddY = (y % 2 != 0);
    
    if (isOddX && !isOddY) return -1;
    if (!isOddX && isOddY) return 1;
    
    if (isOddX && isOddY) {
        if (x > y) return -1;
        if (x < y) return 1;
        return 0;
    }
    
    if (!isOddX && !isOddY) {
        if (x < y) return -1;
        if (x > y) return 1;
        return 0;
    }
    
    return 0;
}

int main() {
    int N;
    int arr[10005];
    
    while (scanf("%d %d", &N, &M) && (N != 0 || M != 0)) {
        printf("%d %d\n", N, M);
        
        for (int i = 0; i < N; i++) {
            scanf("%d", &arr[i]);
        }
        
        qsort(arr, N, sizeof(int), compare);
        
        for (int i = 0; i < N; i++) {
            printf("%d\n", arr[i]);
        }
    }
    
    printf("0 0\n");
    
    return 0;
}
